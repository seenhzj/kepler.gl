<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [addDataToMap][1]
-   [resetMapConfig][2]
-   [receiveMapConfig][3]
-   [keplerGlInit][4]

## addDataToMap

Upload dataset to kepler.gl, propagate map with preset configuration if config is passed. Receive 3 arguemtns: `datasets`, `options` and `config`
Kepler.gl provides a handy set of utils to parse data from different format to the `data` object required in dataset. You rarely need to manually format the data obejct.

Use `KeplerGlSchema.getConfigToSave` to generate a json blob of the current kepler instance config.
The config object value will always have higher precedence than the options properties.

Kepler.gl uses `dataId` in the config to match with loaded dataset. If you passing some datasets with a config object, you need
to match the `info.id` of your dataset to the `dataId` in eath `layer`, `filter` and `fieldsToShow` in `interactionConfig.tooltips`

**Parameters**

-   `datasets` **([Array][5]&lt;[Object][6]> | [Object][6])** **\*required** datasets can be a dataset or an array of datasets
    Each dataset object needs to have `info` and `data` property.
    -   `datasets.info` **[Object][6]** \-info of a dataset
        -   `datasets.info.id` **[string][7]** id of this dataset. If config is defined, `id` should matches the `dataId` in config.
        -   `datasets.info.label` **[string][7]** A display name of this dataset
    -   `datasets.data` **[Object][6]** **\*required** The data object, in a tabular format with 2 properties `fields` and `rows`
        -   `datasets.data.fields` **[Array][5]&lt;[Object][6]>** **\*required** Array of fields,
            -   `datasets.data.fields.name` **[string][7]** **\*required** Name of the field,
        -   `datasets.data.rows` **[Array][5]&lt;[Array][5]>** **\*required** Array of rows, in a tabular format with `fields` and `rows`
-   `options` **[Object][6]** 
    -   `options.centerMap` **[boolean][8]** `default: true` if `centerMap` is set to `true` kepler.gl will
        place the map view within the data points boundaries
    -   `options.readOnly` **[boolean][8]** `default: false` if `readOnly` is set to `true`
        the left setting panel will be hidden
-   `config` **[Object][6]** this object will contain the full kepler.gl instance configuration {mapState, mapStyle, visState}

**Examples**

```javascript
import {addDataToMap} from 'kepler.gl/actions';

this.props.dispatch(
  addDataToMap(
    // datasets
    {
      info: {
        label: 'Sample Taxi Trips in New York City',
        id: 'test_trip_data'
      },
      data: {
        fields: [{
          name: 'begintrip_lat',
          type: 'real',
          format: ''
        }, {
          name: 'begintrip_lng',
          type: 'real',
          format: ''
        }],
        rows: [
         [37.1234, -121.20292],
         [34.1223, -121.98234]
        ]
      }
    },
    // option
    {
      centerMap: true,
      readOnly: false
    },
    // config
    {
      mapStyle: {
       styleType: 'light'
      }
    }
  )
);
```

## resetMapConfig

Reset all reducers to its initial state

## receiveMapConfig

Pass config to kepler.gl instance, prepare the state with preset configs.
Calling `KeplerGlSchema.parseSavedConfig` to convert saved config before passing it in is required.

You can call `receiveMapConfig` before passing in any data. The reducer will store layer and filter config, waiting for
data to come in. When data arrives, you can call `addDataToMap` without passing any config, and the reducer will try to match
preloaded configs. This behavior is designed to allow asynchronic data loading.

It is also useful when you want to prepare the kepler.gl instance with some preset layer and filter settings.
**Note** Sequence is important, `receiveMapConfig` needs to be called **before** data is loaded. Currently kepler.gl doesn't allow callling `receiveMapConfig` after data is loaded.
It will reset current configuration first then apply config to it.

**Parameters**

-   `config` **[Object][6]** **\*required** The Config Object

**Examples**

```javascript
import {receiveMapConfig} from 'kepler.gl/actions';
import KeplerGlSchema from 'kepler.gl/schemas';

const parsedConfig = KeplerGlSchema.parseSavedConfig(config);
this.props.dispatch(receiveMapConfig(parsedConfig));
```

## keplerGlInit

Calls to initialize kepler.gl reducer. It is used to pass in `mapboxApiAccessToken` to `mapStyle` reducer

**Parameters**

-   `payload` **[Object][6]** 
    -   `payload.mapboxApiAccessToken` **[string][7]** mapboxApiAccessToken to be saved to mapStyle reducer

[1]: #adddatatomap

[2]: #resetmapconfig

[3]: #receivemapconfig

[4]: #keplerglinit

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
